Прототип сервиса бронирования. 
Основная идея в том, что в postgres реализована поддержка интервалов, которая позволяет силами БД находить их пересечение,
проверять вложенность интервалов и т.д.  Когда пользователь назначает время, в которое он работает, 
мы заполняем табличку со свободным временем на horizon дней вперед (идея сомнительная, но ничего лучше я пока не придумал).
При бронировании события мы 1) строим пересечения множества свободного времени с интервалом события 2) для того, 
что получилось в п1) проверяем вложенность времени бронирования (с учетом буферов) в свободных интервалах. 
Если не находит, возвращаем ошибку, если находим, то заменяем интервал свободного времени, который содержит интервал 
бронирования на их разность (то есть [2;15]-[6,9]=[2,6] + [9,15]) . 3) сохраняем сущность бронирования.
Никакого хранения слотов нет. Время бронирования хранится в самом бронировании, свободное время хранится в таблице
свободного времени (общей для всех задач).  Если надо, свободное время можно вернуть в виде слотов, можно в виде
исходных интервалов, это не так сложно реализовать.